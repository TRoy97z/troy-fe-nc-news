(this["webpackJsonptroy-nc-news"]=this["webpackJsonptroy-nc-news"]||[]).push([[0],{10:function(e,t,a){e.exports={card:"ArticleCard_card__2Vbkz",title:"ArticleCard_title__3wHKJ",link:"ArticleCard_link__2JlAw"}},11:function(e,t,a){e.exports={slideContainer:"Slider_slideContainer__20EVI",slide:"Slider_slide__3Z62W","each-slide":"Slider_each-slide__1OKh0","each-fade":"Slider_each-fade__3_NRX","image-container":"Slider_image-container__3SF7s",img:"Slider_img__3BCEl"}},15:function(e,t,a){e.exports={card:"CommentCard_card__3s3zr",list:"CommentCard_list__B25Eb"}},33:function(e,t,a){e.exports=a(74)},38:function(e,t,a){},39:function(e,t,a){},74:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(28),o=a.n(c),i=(a(38),a(1)),l=a(2),u=a(4),s=a(3),m=a(5),p=(a(39),a(9)),d=function(){return r.a.createElement("header",{className:"header"},r.a.createElement("h1",null,"NC News"))},h=a(6),f=a.n(h),v=a(8),b=a(30),y=a.n(b).a.create({baseURL:"https://troy-nc-news.herokuapp.com/api"}),E=function(){var e=Object(v.a)(f.a.mark((function e(){var t,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.get("/articles?sort_by=comment_count");case 2:return t=e.sent,a=t.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),O=function(){var e=Object(v.a)(f.a.mark((function e(t,a,n){var r,c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.get("/articles",{params:{topic:t,sort_by:a,order:n}});case 2:return r=e.sent,c=r.data,e.abrupt("return",c);case 5:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),g=function(){var e=Object(v.a)(f.a.mark((function e(t){var a,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.get("/articles/".concat(t));case 2:return a=e.sent,n=a.data,e.abrupt("return",n.article);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),j=function(){var e=Object(v.a)(f.a.mark((function e(t){var a,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.get("/articles/".concat(t,"/comments"));case 2:return a=e.sent,n=a.data,e.abrupt("return",n.comments);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_=function(){var e=Object(v.a)(f.a.mark((function e(t,a){var n,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.post("/articles/".concat(t,"/comments"),a);case 2:return n=e.sent,r=n.data,e.abrupt("return",r.comment);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),w=function(){var e=Object(v.a)(f.a.mark((function e(t){var a,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.delete("/comments/".concat(t));case 2:return a=e.sent,n=a.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k=function(){var e=Object(v.a)(f.a.mark((function e(){var t,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.get("/topics");case 2:return t=e.sent,a=t.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),C=function(){var e=Object(v.a)(f.a.mark((function e(t){var a,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.get("/users/".concat(t));case 2:return a=e.sent,n=a.data,e.abrupt("return",n.user);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=Object(v.a)(f.a.mark((function e(t,a){var n,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.patch("/articles/".concat(t),{inc_votes:a});case 2:return n=e.sent,r=n.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),x=function(){var e=Object(v.a)(f.a.mark((function e(t,a){var n,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.patch("/comments/".concat(t),{inc_votes:a});case 2:return n=e.sent,r=n.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),A=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(r)))).state={topics:[],username:"grumpy19"},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;k().then((function(t){e.setState(t)}))}},{key:"render",value:function(){var e=this.state,t=e.topics,a=e.username;return r.a.createElement("nav",null,r.a.createElement(p.a,{to:"/"},"Home "),r.a.createElement(p.a,{to:"/articles"},"Articles "),t.map((function(e){return r.a.createElement(p.a,{to:"/articles/topics/".concat(e.slug),key:"".concat(e.slug)},e.slug," ")})),r.a.createElement(p.a,{to:"/users/".concat(a)},"Account"))}}]),t}(r.a.Component),N=a(10),L=a.n(N),Q=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(r)))).state={voteUpdate:0},a.handleVote=function(e){var t=+e.target.id;a.setState((function(e){return{voteUpdate:e.voteUpdate+t}})),a.props.comment_id?x(a.props.comment_id,t):S(a.props.article_id,t)},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("section",{className:L.a.voter},r.a.createElement("button",{id:1,onClick:this.handleVote,disabled:this.state.voteUpdate>0},"Vote Up"),r.a.createElement("button",{id:-1,onClick:this.handleVote,disabled:this.state.voteUpdate<0},"Vote Down"),r.a.createElement("p",null," Votes: ",this.props.votes+this.state.voteUpdate))}}]),t}(r.a.Component),D=a(12),P=a.n(D),U=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(r)))).state={votes:a.props.votes},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.article,t=e.article_id,a=e.comment_count,n=e.title,c=e.votes,o=e.author,i=e.created_at;return r.a.createElement("li",{className:L.a.card,key:n}," ",r.a.createElement(p.a,{className:L.a.link,to:"/articles/".concat(t)},r.a.createElement("h2",{className:L.a.title},n)),r.a.createElement("div",{className:L.a.votes},r.a.createElement(Q,{votes:c,article_id:t})),r.a.createElement("p",null,"Comments: ",a),r.a.createElement("h5",null,"Posted By: ",o," | ",r.a.createElement(P.a,{date:i,fromNow:!0})))}}]),t}(r.a.Component),V=a(31),B=a(11),F=a.n(B),M=["https://images.readwrite.com/wp-content/uploads/2018/04/coding-825x500.jpg","images/slide_3.jpg","images/slide_4.jpg"],I={duration:5e3,transitionDuration:500,infinite:!0,indicators:!0,arrows:!0,onChange:function(e,t){console.log("slide transition from ".concat(e," to ").concat(t))}},J=function(){return r.a.createElement("div",{className:F.a.slideContainer},r.a.createElement(V.Slide,I,r.a.createElement("div",{className:F.a.slide},r.a.createElement("div",{className:F.a.img,style:{backgroundImage:"url(".concat(M[0],")")}},r.a.createElement("span",null,"Slide 1"))),r.a.createElement("div",{className:F.a.slide},r.a.createElement("div",{className:F.a.img,style:{backgroundImage:"url(".concat(M[1],")")}},r.a.createElement("span",null,"Slide 2"))),r.a.createElement("div",{className:F.a.slide},r.a.createElement("div",{style:{backgroundImage:"url(".concat(M[2],")")}},r.a.createElement("span",null,"Slide 3")))))},R=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(r)))).state={articles:[],isLoading:!0},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;E().then((function(t){var a=t.articles;e.setState({articles:a,isLoading:!1})}))}},{key:"render",value:function(){var e=this.state,t=e.articles;return e.isLoading?r.a.createElement("h2",null,"Loading..."):r.a.createElement(r.a.Fragment,null,r.a.createElement(J,null),r.a.createElement("h2",null,"Read All About Our Popular Articles"),r.a.createElement("ul",null,t.map((function(e){return r.a.createElement(U,{key:e.title,article:e})}))))}}]),t}(r.a.Component),z=function(e){var t=e.updateSortQuery;return r.a.createElement("form",null,r.a.createElement("select",{onChange:function(e){var a=e.target.value;t(a)}},r.a.createElement("option",{value:""},"No Filter"),r.a.createElement("option",{value:"title"},"Title"),r.a.createElement("option",{value:"author"},"Author"),r.a.createElement("option",{value:"created_at"},"Created At"),r.a.createElement("option",{value:"votes"},"Votes"),r.a.createElement("option",{value:"comment_count"},"Comments")))},H=function(e){var t=e.updateOrderQuery,a=function(e){var a=e.target.value;t(a)};return r.a.createElement("form",null,r.a.createElement("label",null,r.a.createElement("input",{type:"radio",name:"orderBy",value:"desc",onChange:a,defaultChecked:!0}),"Descending"),r.a.createElement("label",null,r.a.createElement("input",{type:"radio",name:"orderBy",value:"asc",onChange:a}),"Ascending"))},K=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(r)))).state={articles:[],isLoading:!0,sortQuery:null,orderQuery:"desc"},a.updateSortQuery=function(e){a.setState({sortQuery:e})},a.updateOrderQuery=function(e){a.setState({orderQuery:e})},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.topic,a=this.state,n=a.sortQuery,r=a.orderQuery;O(t,n,r).then((function(t){var a=t.articles;e.setState({articles:a,isLoading:!1})}))}},{key:"componentDidUpdate",value:function(e,t){var a=this,n=this.props.topic,r=this.state,c=r.sortQuery,o=r.orderQuery;e.topic===n&&t.sortQuery===c&&t.orderQuery===o||O(n,c,o).then((function(e){var t=e.articles;a.setState({articles:t,isLoading:!1})}))}},{key:"render",value:function(){var e=this.state,t=e.articles;return e.isLoading?r.a.createElement("h2",null,"Loading..."):r.a.createElement(r.a.Fragment,null,r.a.createElement(z,{updateSortQuery:this.updateSortQuery}),r.a.createElement(H,{updateOrderQuery:this.updateOrderQuery}),r.a.createElement("ul",null,t.map((function(e){return r.a.createElement(U,{key:e.article_id,article:e})}))))}}]),t}(r.a.Component),T=a(32),W=a(15),X=a.n(W),Z=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(r)))).state={deleted:!1},a.removeComment=function(){var e=a.props.comment.comment_id;a.setState({deleted:!0}),w(e).catch(console.log)},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.state.deleted,t=this.props.comment,a=t.created_at,n=t.body,c=t.author,o=t.votes,i=t.comment_id;return r.a.createElement("li",{className:X.a.card,key:a},r.a.createElement("h4",null,n),r.a.createElement("h5",null,"Posted By: ",c," | ",r.a.createElement(P.a,{date:a,fromNow:!0})),r.a.createElement(Q,{votes:o,comment_id:i}),r.a.createElement("button",{onClick:this.removeComment},e?"Comment Deleted":"Delete"))}}]),t}(r.a.Component),q=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(r)))).state={body:"",username:"grumpy19"},a.handleChange=function(e){var t=e.target.value;a.setState({body:t})},a.handleSubmit=function(e){e.preventDefault();var t=a.props,n=t.article_id,r=t.addComment,c={username:a.state.username,body:a.state.body};_(n,c).then((function(e){r(e)})).then((function(){a.setState({body:""})}))},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("label",{htmlFor:"body"},r.a.createElement("input",{type:"text",placeholder:"Any thoughts?",onChange:this.handleChange,value:this.state.body})),r.a.createElement("button",null,"Submit"))}}]),t}(r.a.Component);function G(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var Y=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(r)))).state={comments:[]},a.addComment=function(e){a.setState((function(t){var a=t.comments.map((function(e){return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?G(a,!0).forEach((function(t){Object(T.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):G(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},e)}));return a.unshift(e),{comments:a}}))},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.article_id;j(t).then((function(t){e.setState({comments:t})}))}},{key:"render",value:function(){var e=this.state.comments,t=this.props.article_id;return r.a.createElement("section",{className:X.a.list},r.a.createElement(q,{article_id:t,addComment:this.addComment}),r.a.createElement("ul",null,e.map((function(t){return r.a.createElement(Z,{key:t.comment_id,comment:t,comments:e})}))))}}]),t}(r.a.Component),$=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(r)))).state={article:{},isLoading:!0},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.article_id;g(t).then((function(t){e.setState({article:t,isLoading:!1})}))}},{key:"render",value:function(){var e=this.state,t=e.article,a=e.isLoading,n=t.article_id,c=t.title,o=t.votes,i=t.author,l=t.created_at,u=t.body;return a?r.a.createElement("h2",null,"Loading..."):r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,c),r.a.createElement("h5",null,"Posted By: ",i," || ",r.a.createElement(P.a,{date:l,fromNow:!0})),r.a.createElement("p",null,u),r.a.createElement(Q,{votes:o,article_id:n}),r.a.createElement("ul",null,r.a.createElement(Y,{key:t.article_id,article_id:n})))}}]),t}(r.a.Component),ee=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(r)))).state={user:{},isLoading:!0},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.username;C(t).then((function(t){return e.setState({user:t,isLoading:!1})}))}},{key:"render",value:function(){var e=this.state,t=e.user,a=e.isLoading,n=t.name,c=t.avatar_url,o=t.username;return a?r.a.createElement("h2",null,"Loading..."):r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,"My Account"),r.a.createElement("h3",null,"Name: ",n),r.a.createElement("img",{src:c,alt:"Avatar"}),r.a.createElement("h3",null,"Username: ",o))}}]),t}(r.a.Component),te=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("main",{className:"App"},r.a.createElement(d,null),r.a.createElement(A,null),r.a.createElement(p.b,null,r.a.createElement(R,{path:"/"}),r.a.createElement(K,{path:"/articles"}),r.a.createElement(K,{path:"/articles/topics/:topic"}),r.a.createElement($,{path:"/articles/:article_id"}),r.a.createElement(ee,{path:"/users/:username"})))}}]),t}(r.a.Component);o.a.render(r.a.createElement(te,null),document.getElementById("root"))}},[[33,1,2]]]);
//# sourceMappingURL=main.ae616094.chunk.js.map